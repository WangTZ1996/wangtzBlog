# 工作日报        -- 2019-12-24 --

## 1. 全局头像显示规则统一：

#### (1). 主题头像：

> 常用主题列表页面主题头像。
> 

#### (2). 媒体头像：

> 推荐页文章卡片下面的媒体头像（rcmdCard.vue)组件。

## 2. 个人中心进入我的测评：

#### (1). 改变我的测评页判断的逻辑，将原来在我的测评路由中请求的数据迁移到个人中心我的测评按钮点击事件触发，这样可以在个人中心点击我的测评按钮时就请求数据然后通过请求来的数据判断用户的测评状态。

> 现阶段逻辑是：

a. 用户已经测评过 -> 直接跳转测评结果页面

b. 用户还没有测评过 -> 跳转测评流程开始页面

## 3. 搜索页默认显示：

#### (1). 分类导航页的搜索框输入关键词后默认显示情报站分栏

#### (2). 推荐页、发现页搜索框输入关键词查询后默认显示文章分栏

## 4.个人主页：

#### (1). 用户主页多次跳转数据问题：

> 当前解决办法：

这个问题目前发现原因是因为当初设计的缓存机制是以返回到个人中心页为原点重置数据的，所有的全局刷新、加载标志变量都是在个人中心页才被重置的，但是实际使用过程中这种递归嵌套的用户页不止出现在个人中心页，在其他的推荐页和发现页也都有用户主页的入口，这样在其他的页面进入用户主页后返回再次进入其他的用户主页就会有标志没有被重置导致页面数据加载出现问题。

> 更优化的设计模式：

判断是否应该清空缓存应该放在用户主页本身去判断和执行，在用户主页组件的路由守卫里判断当前位于第几层路由，如果是第一层路由则在页面离开的路由守卫中执行清空缓存，重置标志的操作。这样就可以不局限于几种特定的路由返回情况，而是在符合条件的情况下触发清空缓存重置请求标志，可以更加稳定，意义也更加合理。

#### (2). 用户主页返回栏ios显示问题










