# 工作日报        -- 2019-12-18 --

## 1. 常用情报站页初始化时重复加载第一页：

> 这个问题是因为在页面初始化的created钩子中请求第一页数据完成之后，没有对页码进行自加一的操作，导致在滚动加载的时候还是先加载的第一页数据。

## 2. 测评页上传截图逻辑：

#### 1. 上传截图过程增加了删除截图的判断，即上传截图完成后识别出有价值媒体按钮状态置为可以点击，但是一旦点击了删除已上传的截图，则将判断按钮状态的标志置为false重新进行一遍判断有价值媒体的操作。

#### 2. 将进入下一步的逻辑上传过程中之要有截图上传完毕并被识别为有价值则可以点击进行下一步操作，不必等待全部截图都上传完再进行下一步。

## 3. 解读页操作栏显示bug：

#### 1. 通过解读卡片进入解读详情页后，解读内容比较长时，页面上滑，使操作栏从底部移到顶部，底部操作栏没有及时消失。

> 问题原因：目前发现原因是因为隐藏解读页事件的延迟事件过长导致页面滚动结束还没有触发隐藏事件。

> 解决办法：将隐藏操作栏的事件执行的延迟时间改短为100ms

> 这个方案最终放弃

## 4. 外部媒体页顶部返回栏按钮文案更换、返回箭头按钮颜色自适应。

## 5. 搜索页加载等待图标改为spin组件。

## 6. 常用主题页查询数据方式改为用ts查询。

#### (1). 常用主题页数据加载重复问题：

> 问题原因：

> 请求数据方案1: 使用分页请求

> 因为常用主题页是一个动态的排行榜，所以请求到的数据的顺序是实时变化的，也就是说请求第一页的时候第一页的数据是整个列表里的前十条，当我们请求排行榜的第二批数据时，其实这个排行榜整体的位次已经发生了变化，有可能之前的第十位数据变成了第十一位，这时我们再次请求第十一到第二十位数据时就会出现重复的现象，即此时的第十一位数据和上一次请求的第十位数据是同一条数据，之前的第十名排名下滑到了第十一名。

> 请求数据方案2: 使用时间戳请求

> 






















