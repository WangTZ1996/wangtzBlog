# 工作日报  -- 2019-11-19 --

********

## 1.文章详情页改动

#### (1).修改文章详情页里的更多主题订阅按钮bug：

> 文章详情组件的订阅按钮方法里原来获取的点击对象出错，导致订阅、关注按钮不能正常使用。

``` JavaScript
ChangeType(e) {
      console.log(e, '常用主题列表订阅按钮')
      let url = "/vip/biz/topics/" + e.item.id + "/subscribe";
      let method = e.type ? "POST" : "DELETE";
      this.request({
        url,
        method,
        headers: {
          Authorization: this.getCookie("token")
        }
      }).then(res => {
        console.log(res);
        if (res.data.code === 1) {
          let result = res.data.data;
          this.$set(this.RecommendTopic[e.index], "subscribed", e.type);
          if (e.type) {
            this.$set(
              this.RecommendTopic[e.index],
              "subscribe_count",
              this.RecommendTopic[e.index]["subscribe_count"]++
            );
          } else {
            this.$set(
              this.RecommendTopic[e.index],
              "subscribe_count",
              this.RecommendTopic[e.index]["subscribe_count"]--
            );
          }
        } else {
        }
      });
      //
    }
```  

> 这个方法原来在url里面获取的id是路由中query的id，路由id表示的是源页面的文章id，这个方法需要传的是被点击的主题的id，应该在e.item.id里面取。

#### (2).文章详情页订阅按钮样式修改

## 2.解读详情部分

#### (1).发现从‘我的’页粉丝列表进入其他用户主页，对该用户解读留言发生留言用户信息错误bug:

>这个bug是因为蓬勃在开发时将cookie用户信息token写死导致的，不管哪个用户对解读留言，最终的留言者都显示成固定token所对应的用户。

#### (2).解读详情页按钮样式、各种弹窗样式修改。

## 3.用户详情主页

#### (1).用户主页的订阅、关注按钮‘+’图标更改。

#### (2).用户详情页上订阅按钮有bug，无法点击：

>bug原因: 按钮所在的父级元素z-index值低于其父级元素，导致点击事件无法传递到该元素。

~~修改方法: 将class为wrap-content的元素z-index改为300.~~

> 上述的修改方法会导致return组件被覆盖，新版的解决方法：

>> 保持class为wrap-content的元素z-index值不变，将return组件的宽度改为原来的50%（这里的改变是写在行内的样式，仅仅对该页面最外层元素起作用，不影响该组件在其他页面的引用情况）

## 4.文章详情页：

#### (1).更多主题、收录主题、创建主题数量限制、文章写解读提示卡片样式更改。




















