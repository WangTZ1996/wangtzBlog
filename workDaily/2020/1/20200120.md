# 工作日报            -- 2020-1-20 --

## 1. 榜单系统前端构建完成：

#### (1). 榜单页面通过路由的query字段区分成两种状态，在其他页面分开访问

## 2. 用户主页缓存问题：

#### (1). 用户主页存在页面跳转返回出错的问题，原因是之前没有考虑到在用户主页直接跳转外部媒体页的情况，之前跳转外部媒体页都是通过粉丝列表页跳转的，其中会有一个标志this.$store.state.user.listReturn，用来表示是从列表页跳转的，用户主页识别的到这个标志后不执行写入缓存操作，这就导致用户主页直接经过外部媒体页后listReturn标志的状态出错，导致接下来跳转其他页面时不执行写入缓存操作，导致返回失败。

***解决办法***

在外部媒体页的beforeRouteLeave守卫中加上判断判断出如果要去到用户主页（此处去到用户主页就是返回操作）则将listReturn标志状态置为false，这样就不会出现不写入缓存的情况了。

## 3. 推荐页侧边栏定位适配PC端显示：

#### (1). 将侧边栏的父级元素定位从fixed改为absolute，这样页面就依据app元素大小进行定位而不是依据window进行定位。