# 工作日报           -- 2020-1-15 --

## 1. 梳理页面上需要用到用户认证状态的接口（进行中，待完成）：

+ 用户主页

+ 解读卡片

## 2. 引导页选择标签之后的推荐媒体数据中添加上媒体间的引用关系。

#### (1). 在每一次点击选择标签的时候先发送请求标签下数据的请求，然后在这次请求的then()方法中再遍历该请求的内容条数依次请求获取关系实体词的接口，然后将这些请求的返回数据依次插入之前请求的媒体对象中。

## 3. 前后端接口更新：

name | method | old path | new path
:--- | :--- | :--- | :---
推荐大V | get | /biz/users/vip | /biz/rcmd/author
标签媒体 | get | /biz/media/tag/rcmd | /biz/tags/media
情报站分类列表 | get | /biz/topic_tags/topics | /biz/tags/topics
标签 | get | /biz/topic_tags | /biz/tags

## 4. 解决24小时热门排行榜文字、头像对不齐的BUG

## 5. 优化了微信登录的方式的判断方法：

#### (1). 登录页的created钩子里判断UA通过UA来判断登录的方式是否是通过扫码登录的：

```javascript
let broswer = ''
let UA = navigator.userAgent.toLocaleLowerCase()  // 获取本机环境的UA字符串然后统一转为小写
    if (UA.indexOf("micromessenger") != -1) {  
    // 通过indexOf()方法来判断是否有表示微信环境的字段
      browser = 'WX'
    } else {
      browser = 'Other'
    }
```
然后每次等到code以后根据此时的设备UA来判断登录请求传给后台的字段（'WX'或者'Other'）

## 6. 用户中心页我的测评页面：

#### (1). 我的测评页面测评结果最后一页的推荐媒体增加了查找媒体的引用关系。

## 7. 发现页推荐媒体：

#### (1). 发现页推荐媒体媒体的内容字段更改：

old | new
:--- | :---
summary | content

## 8. 登录时图标加载动画效果

#### (1). 将我们的新版的logo做成动图效果，AI和AE结合使用，

+ AI 是制作（处理）矢量图，AI做的矢量图要使用AE做成动图时需要对图层进行操作：

    + 先对文件进行释放图层顺序的操作

    + 再对图形进行分组

+ AE 是将AI生成的矢量图文件生成动画，我们的需求要实现绘制LOGO的效果，这个效果需要用到AE的线性擦除效果进行过渡。












